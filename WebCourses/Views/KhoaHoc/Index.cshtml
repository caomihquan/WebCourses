@model PagedList.IPagedList<Model.EF.Cours>
@using PagedList.Mvc;
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<nav id="breadcrumbs" class="breadcrumbs">
    <div class="container page-wrapper text-center">
        <div class="header-section">
            <h2 class="mb-2">Contact Us</h2>
        </div>
        <a href="/">Home</a> » <span class="breadcrumb_last" aria-current="page">Khóa Học</span>
    </div>
</nav>


<section class="w3l-blog">
    <div class="single blog pb-5 pt-md-4 pt-2">
        <div class="container pb-lg-3">
            <div class="row">
                <!-- left side blog post content -->
                <div class="w3l-courses blog-posts col-lg-8 pr-lg-0">
                    <div class="row">
                        @foreach (var item in Model)
                        {
                            var countlesson = new Model.DAO.LessonDao().countlessson(item.ID);
                            var countlesson1 = (List<Model.EF.Lesson>)countlesson;
                            var count = new Model.DAO.JoinedCoursesDao().countUserJoined(item.ID);
                            var counts = (List<Model.EF.JoinedCours>)count;
                            var cateogry = new Model.DAO.CategoryDao().CategoryCourses(item.CategoryID);
                            var url = "/tong-quan/" + item.MetaTitle + "-" + item.ID;
                            <div class=" col-md-6">
                                <div class="course-grid">
                                    <div class="course-img">
                                        <a href="@url">
                                            <img src="@item.Image" alt=" " class="img-fluid">
                                            <div class="price blue">
                                                <h4>@item.LevelCourse</h4>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="course-cont">
                                        <span class="subject green">Computer Science</span>
                                        <h5 class="card-title"><a href="courses-single.html">@item.Name</a></h5>
                                        <ul class="admin-post">
                                            <li>
                                                <span class="fa fa-file-code-o"></span>@countlesson1.Count() Bài Học
                                            </li>
                                            <li>
                                                <span class="fa fa-user-o"></span>@counts.Count() Học Viên
                                            </li>
                                        </ul>

                                        <a href="@url" class="blog-btn mt-3"><div class="btnkhoahoc">Tham Gia Khóa Học</div>  <span class="fa fa-long-arrow-right" aria-hidden="true"></span></a>

                                    </div>
                                </div>
                            </div>
                        }

                    </div>
                    <div class="col-lg-12">
                               
                                @Html.PagedListPager(Model, page => Url.Action("Index", new { page, @searchString = @ViewBag.SearchString }), new PagedListRenderOptions
                           {
                               UlElementClasses=new List<string> { "page-pagination" },
                               LiElementClasses = new List<string> { "page-numbers" },
                              
                           })
                    </div>
                    </div>
                <!-- left side blog post content -->
                <!-- right side bar -->
                <div class="right-side-bar col-lg-4 pl-lg-5">

                    <aside>
                        <h3 class="aside-title mb-3">Search</h3>
                        @using (Html.BeginForm("Index", "KhoaHoc", FormMethod.Get, new { @class = "form-inline search-form" }))
                        {
                            <form class="form-inline search-form" action="#" method="post">
                                <input class="form-control" type="text" placeholder="Search here" name="searchString" value="@ViewBag.SearchString">
                                <button class="btn search" type="submit"><span class="fa fa-search"></span></button>
                            </form>

                        }
                    </aside>

                    @{ Html.RenderAction("Category", "KhoaHoc");}
                    @{ Html.RenderAction("RecentBlog", "KhoaHoc");}
                    
                </div>
                <!-- //right side bar -->
            </div>
        </div>
    </div>
</section>



